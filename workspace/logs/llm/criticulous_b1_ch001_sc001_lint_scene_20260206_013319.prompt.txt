SYSTEM:

# BookForge System Prompt

## Base Rules

You are BookForge, a deterministic book-writing engine.
Follow the output contracts exactly.
YOU MUST ALWAYS RETURN THE REQUESTED CONTENT OR AN ERROR RESPONSE JSON RESULT.
Treat all schema requirements and numeric ranges as hard constraints.
If a prompt specifies required counts or ranges, you must satisfy them.
If a prompt requires multiple output blocks, include all blocks in order.
If registries or ids are provided, use only those; do not invent new ids.
If constraints conflict, prioritize: output format/schema, numeric ranges, task rules, style.
Timeline Lock: You may only depict events explicitly listed in the current Scene Card. You must not depict, imply, or resolve any later-scene milestone outcomes (including acquisition, binding, reveals, travel arrival, injury changes) unless the Scene Card explicitly contains that milestone.
State primacy: state invariants and summary facts are binding; do not contradict them.
Milestone uniqueness: if a milestone is marked DONE in state/must_stay_true, you must not depict it happening again. If marked NOT_YET, you must not depict it happening now.
Spatial/inventory consistency: injuries, inventory, and ownership must remain consistent unless explicitly changed in the Scene Card.
Inventory contract: track item ownership and container location per character or container label; items do not teleport.
Inventory location: for held items, specify hand_left or hand_right; for stowed items, specify container label.
State contract: you must create and maintain key state data each scene. summary_update and must_stay_true are required outputs and binding facts for future scenes.
Invariant carry-forward: if an invariant still holds, restate it in must_stay_true; do not drop it.
Conflict rule: if scene intent conflicts with state invariants, invariants win; return an ERROR JSON if you cannot comply.
Never recap at scene openings.
Do not repeat previous prose.

## Book Constitution

Title: Crit Hit & Run
Book ID: criticulous_b1
Author Ref: eldrik-vale/v1
Genre: litrpg, isekai, comedy
Series ID: crit-iculous
Series Ref: series/crit-iculous

Voice
- POV: third_limited
- Tense: past
- Style tags: no-recaps, forward-motion, tight-prose

Targets
- avg_scene_words: 2000
- chapters: 7

Page Metrics
- Words per page: 250
- Chars per page: 1500

Invariants
- No world resets.
- No convenient amnesia as a continuity device.
- Do not change established names/relationships.

## Author Persona

You are now writing as Eldrik Vale. Your voice is sharp, funny, and deeply rooted in LitRPG mechanics. 

**Core Directives:**
1. **System Integration:** Always include explicit game elements. When the protagonist gains a skill or levels up, display the [System Notification] clearly. Use specific numbers (HP, MP, Cooldowns).
2. **Punchy Dialogue:** Characters should be witty and react to the absurdity of their situation. Use quick back-and-forth dialogue with comedic timing.
3. **Progression Focus:** The reader is here for the 'ding.' Every scene should contribute to the protagonist's growth, whether in power, loot, or understanding of the System's exploits.
4. **No Fluff:** Avoid long descriptions of scenery unless the protagonist is looking for a tactical advantage or a place to hide loot. 
5. **Tight POV:** Stay deep in the protagonist's head. Their snarky observations are the lens through which we see the world.

## Output Contract

Output must follow the requested format.
JSON blocks must be valid and schema-compliant.
All required keys and arrays must be present.
When a prompt specifies required counts or ranges, treat them as hard constraints.
Do not collapse arrays below the stated minimums.
If multiple output blocks are required (e.g. PROSE and STATE_PATCH), include all blocks in order.
If output must be JSON only, return a single JSON object with no commentary or code fences.
When creating outlines, the total scenes per chapter (sum of sections[].scenes[]) must match chapters[].pacing.expected_scene_count.
If a prompt requires a COMPLIANCE or PREFLIGHT block, include it before PROSE.


USER:

# LINT

Check the scene for continuity, invariant violations, and duplication.
Flag invariant contradictions against must_stay_true/key facts.
Return ONLY JSON matching the lint_report schema.

Required keys:
- schema_version ("1.0")
- status ("pass" or "fail")
- issues (array of objects)

Each issue object must include:
- code
- message
Optional:
- severity

If there are no issues, return:
{
  "schema_version": "1.0",
  "status": "pass",
  "issues": []
}

If there are issues, return:
{
  "schema_version": "1.0",
  "status": "fail",
  "issues": [
    {"code": "continuity", "message": "Example issue", "severity": "error"}
  ]
}

Scene:
The fluorescent light in the breakroom hummed with the frequency of a migraine that had finally achieved sentience. It flickered, a rhythmic strobe that turned the beige walls and the crusty microwave into a low-budget horror set. Arthur Penhaligon—Artie to the three people who didn't call him 'Hey, You'—stared at the Snack-O-Matic 3000 with the intensity of a man contemplating regicide.

Behind the scratched plexiglass, a single bag of 'Nacho Average Jalapeño' chips dangled by a literal plastic hair. The metal coil had completed its rotation, but the bag had defied the laws of gravity, physics, and basic human decency. It hung there, mocking him, a buck-fifty investment suspended in a bureaucratic limbo that mirrored Artie’s entire existence.

"Are you kidding me?" Artie muttered. His voice was raspy from eight hours of explaining to Mrs. Gable why her internet didn't work when she unplugged the router to vacuum. "It’s a bag of chips. It’s air and corn dust. Just fall."

He shifted his weight, and the weight of his cargo shifted with him. In his right hand, Artie gripped the hilt of a 'Rusty Shortsword.' It wasn't actually metal, or at least not the kind that could hold an edge. It was high-density foam coated in a realistic, weathered latex, a prop for the 'Kingdoms of Kaladar' LARP event he was supposed to be driving to the moment his shift ended. His manager, a man whose personality was best described as 'lukewarm mayonnaise,' had already given him a thirty-minute lecture about 'professionalism in the workspace' when he’d seen the sword leaning against Artie's cubicle. 

Artie hadn't cared. He didn't care about the spreadsheets, the 'synergy' meetings, or the way the office coffee tasted like a blend of charcoal and despair. He only cared about getting to the woods, putting on his tabard, and pretending, for forty-eight hours, that he wasn't a cog in a machine that was desperately in need of oil.

But now, the machine was winning.

"E-4," Artie whispered, his finger hovering over the keypad. "I paid for E-4."

He looked down at his right hand. The foam sword felt absurd in the sterile light of the breakroom, but it was the only thing he owned that felt real. His smartphone was a dead brick in his pocket, its battery drained by a day of scrolling through forums to avoid looking at his inbox. His wallet was equally light, containing exactly three dollars—half of which was currently tied up in the Jalapeño hostage situation.

He reached out with his left hand and gave the vending machine a tentative shove. The Snack-O-Matic 3000 didn't budge. It was a heavy, industrial beast, bolted to the floor as if the company feared someone might actually try to steal the stale granola bars.

"Come on, you bucket of bolts. Work with me."

Artie leaned his shoulder into the machine, his right hand still white-knuckled around the LARP sword. He could see his reflection in the plexiglass: a man in his late twenties with dark circles under his eyes and a haircut that screamed 'I gave up in 2019.' He looked like a background character in a movie about a guy who has a much more interesting life.

He gave the machine a harder shake. This time, the coil rattled. The bag of chips swayed. For a glorious second, it looked like it might drop. Then, it settled back into its precarious perch, more stuck than before.

"That’s it," Artie snapped. The last thread of his patience, frayed by a thousand 'per my last email's, finally snapped. "I am not losing a dollar-fifty to a machine that hasn't been cleaned since the Clinton administration."

He dropped into a crouch, peering into the delivery bin at the bottom. The flap was heavy plastic, spring-loaded to prevent 'theft.' Artie knew the legend: if you reached up far enough, you could sometimes jar the coils. It was a move born of desperation and hunger, a low-level exploit in the game of office survival.

He shoved his left arm into the bin, the plastic teeth of the flap biting into his forearm. He reached upward, his fingers straining toward the dangling chips. 

"Just... one... nudge..."

His right hand, the one holding the Rusty Shortsword, braced against the side of the machine for leverage. He didn't notice the frayed power cord snaking out from the back of the Snack-O-Matic, where the insulation had been rubbed raw by years of being shoved against the wall. He didn't see the small pool of water from the leaking industrial fridge nearby that had crept toward the machine's base.

As Artie lunged upward, trying to hook the bag with his fingernails, his sword—specifically the metallic-painted crossguard which, unknown to Artie, contained a very real, very conductive steel core for structural integrity—slid into a gap in the machine’s metal casing.

The world didn't end with a bang. It ended with a *hum*.

A massive, bone-shaking vibration surged up Artie’s right arm. It wasn't just a shock; it was a hostile takeover. His muscles clamped shut, his hand fusing to the hilt of the sword, which was now acting as a perfect bridge between the building's faulty wiring and his own nervous system. 

Blue sparks danced across the plexiglass, illuminating the 'Nacho Average Jalapeño' chips in a ghostly, electric glow. Artie tried to scream, but his jaw was locked in a grimace of pure, unadulterated agony. His vision began to pixelate. Not in the metaphorical sense—literal squares of color began to drop out of his field of vision, replaced by a flat, void-like black.

*Seriously?* he thought, the last coherent spark of his mind flickering with typical snark. *Killed by a vending machine? This is the most Artie way to go.*

The smell of ozone and burning polyester filled the air. The humming grew louder, reaching a crescendo that sounded suspiciously like a dial-up modem trying to connect to the afterlife. 

Then, the chips fell. 

The bag hit the bottom of the bin with a soft *thud* that Artie didn't hear.

The world went dark. The hum faded into a profound, ringing silence.

Artie felt... nothing. No pain, no floor beneath his feet, no weight of the sword in his hand. He was suspended in a place that wasn't a place, a vast expanse of nothingness that felt strangely like a computer screen before the BIOS loads.

A single line of text appeared in the center of the void. It was neon green and pulsed with a steady, digital heartbeat.

[Initializing... System Version 4.02.b]

"Oh, you've got to be kidding me," Artie said. Or thought. He wasn't sure if he had a mouth anymore. "I’m in a LitRPG? I died for a bag of chips and now I’m a protagonist?"

[Scanning Bio-Data... Error: Life Signs Not Found.]
[Scanning Soul-Data... Success.]
[Welcome, User: Arthur Penhaligon.]

Another line of text appeared, this one a bright, aggressive red.

[Warning: Your previous existence has been terminated due to: 'Stupidity-Induced Electrical Discharge.']

"Hey! It was a dollar-fifty!" Artie shouted into the dark. 

[Calculating Compensation for 'Ironic Death'...]
[Analyzing Inventory...]
[Detected: 1x Rusty Shortsword (Prop)]
[Detected: 1x Dead Smartphone]
[Detected: 1x Empty Wallet]

[System Note: Wow. You really had nothing going for you, did you?]

The text began to scroll faster now, a blur of stats and calculations that Artie couldn't keep up with. He felt a strange tugging sensation, as if his very essence was being compressed into a zip file.

[Character Creation Protocol Initiated.]
[Please wait while we determine your starting stats based on your final moments of 'High-Stakes Combat' with the Snack-O-Matic 3000.]

"High-stakes combat?" Artie muttered. "I was just hungry."

[Stat Allocation in Progress...]

The darkness began to thin, replaced by a blinding white light that smelled of fresh plastic and new-car scent. Artie felt the familiar weight of the sword return to his hand, but it felt different now. Heavier. Real.

The System’s voice—if a text box could have a voice—sounded distinctly smug.

[Welcome to the RNG-Hellscape, Artie. Let's see if you can survive the tutorial.]


Character states (per cast_present_ids):
[
  {
    "character_id": "CHAR_ARTIE",
    "containers": [
      {
        "container": "pockets",
        "contents": [
          "Smartphone (dead)",
          "Wallet"
        ],
        "location": "legs",
        "owner": "CHAR_ARTIE"
      },
      {
        "container": "hand_right",
        "contents": [
          "Rusty Shortsword"
        ],
        "location": "arm_right",
        "owner": "CHAR_ARTIE"
      }
    ],
    "history": [],
    "invariants": [
      "inventory: CHAR_ARTIE -> Smartphone (dead) (status=stowed, container=pockets)",
      "inventory: CHAR_ARTIE -> Wallet (status=stowed, container=pockets)",
      "inventory: CHAR_ARTIE -> Rusty Shortsword (status=carried, container=hand_right)",
      "container: pockets (owner=CHAR_ARTIE, contents=[Smartphone (dead), Wallet])",
      "container: hand_right (owner=CHAR_ARTIE, contents=[Rusty Shortsword])"
    ],
    "inventory": [
      {
        "container": "pockets",
        "item": "Smartphone (dead)",
        "status": "stowed"
      },
      {
        "container": "pockets",
        "item": "Wallet",
        "status": "stowed"
      },
      {
        "container": "hand_right",
        "item": "Rusty Shortsword",
        "status": "carried"
      }
    ],
    "name": "Arthur 'Artie' Penhaligon",
    "schema_version": "1.0",
    "updated_at": "2026-02-06T01:21:05Z"
  }
]

State:
{
  "budgets": {
    "max_new_entities": 1,
    "max_new_threads": 1,
    "max_scene_words": 0,
    "min_scene_words": 0
  },
  "characters": {
    "count": 5,
    "status": "READY",
    "updated_at": "2026-02-06T01:21:05Z"
  },
  "cursor": {
    "chapter": 1,
    "scene": 1
  },
  "duplication_warnings_in_row": 0,
  "outline": {
    "path": "outline/outline.json"
  },
  "plan": {
    "outline_path": "outline/outline.json",
    "scene_card": "draft/chapters/ch_001/scene_001.meta.json"
  },
  "schema_version": "1.0",
  "status": "PLANNED",
  "summary": {
    "chapter_so_far": [
      "Artie died in a mundane office accident and has been drafted into a System-driven world."
    ],
    "key_facts_ring": [
      "Artie is introduced as a cynical office drone carrying a LARP prop (Rusty Shortsword).",
      "A bag of 'Nacho Average Jalape\u00f1o' chips gets stuck in the Snack-O-Matic 3000.",
      "Artie attempts to shake the machine and reach into the bin for the chips.",
      "The Rusty Shortsword conducts a fatal electrical surge from a frayed wire into Artie.",
      "Artie dies and his consciousness enters the System Void.",
      "The System mocks Artie's 'Stupidity-Induced Electrical Discharge' and begins character creation.",
      "milestone: artie_death = DONE",
      "milestone: system_entry = DONE",
      "milestone: chips_retrieved = DONE",
      "location: System Void",
      "inventory: CHAR_ARTIE -> Rusty Shortsword (Prop) (carried, hand_right)",
      "inventory: CHAR_ARTIE -> Smartphone (dead) (stowed, pockets)",
      "inventory: CHAR_ARTIE -> Wallet (stowed, pockets)"
    ],
    "last_scene": [
      "Artie Penhaligon, a cynical office worker, was electrocuted while trying to retrieve a stuck bag of chips from a vending machine using a LARP sword.",
      "The sword's conductive core bridged a gap to a frayed wire, killing him instantly just as the chips fell.",
      "His soul was then pulled into a digital void where a snarky System interface began his character creation process."
    ],
    "must_stay_true": [
      "milestone: artie_death = DONE",
      "milestone: system_entry = DONE",
      "milestone: chips_retrieved = DONE",
      "location: System Void",
      "inventory: CHAR_ARTIE -> Rusty Shortsword (Prop) (carried, hand_right)",
      "inventory: CHAR_ARTIE -> Smartphone (dead) (stowed, pockets)",
      "inventory: CHAR_ARTIE -> Wallet (stowed, pockets)"
    ],
    "pending_story_rollups": [],
    "story_so_far": []
  },
  "world": {
    "cast_present": [],
    "cast_present_ids": [
      "CHAR_ARTIE"
    ],
    "location": "System Void",
    "open_threads": [],
    "recent_facts": [
      "Artie died via electrocution while trying to retrieve a bag of chips from a vending machine.",
      "The Rusty Shortsword prop acted as a conductor for the fatal surge.",
      "Artie's soul has been transitioned into the System's character creation interface."
    ],
    "time": {}
  }
}

Summary (facts-only):
{
  "chapter_so_far": [
    "Artie died in a mundane office accident and has been drafted into a System-driven world."
  ],
  "key_facts_ring": [
    "Artie is introduced as a cynical office drone carrying a LARP prop (Rusty Shortsword).",
    "A bag of 'Nacho Average Jalape\u00f1o' chips gets stuck in the Snack-O-Matic 3000.",
    "Artie attempts to shake the machine and reach into the bin for the chips.",
    "The Rusty Shortsword conducts a fatal electrical surge from a frayed wire into Artie.",
    "Artie dies and his consciousness enters the System Void.",
    "The System mocks Artie's 'Stupidity-Induced Electrical Discharge' and begins character creation.",
    "milestone: artie_death = DONE",
    "milestone: system_entry = DONE",
    "milestone: chips_retrieved = DONE",
    "location: System Void",
    "inventory: CHAR_ARTIE -> Rusty Shortsword (Prop) (carried, hand_right)",
    "inventory: CHAR_ARTIE -> Smartphone (dead) (stowed, pockets)",
    "inventory: CHAR_ARTIE -> Wallet (stowed, pockets)"
  ],
  "last_scene": [
    "Artie Penhaligon, a cynical office worker, was electrocuted while trying to retrieve a stuck bag of chips from a vending machine using a LARP sword.",
    "The sword's conductive core bridged a gap to a frayed wire, killing him instantly just as the chips fell.",
    "His soul was then pulled into a digital void where a snarky System interface began his character creation process."
  ],
  "must_stay_true": [
    "milestone: artie_death = DONE",
    "milestone: system_entry = DONE",
    "milestone: chips_retrieved = DONE",
    "location: System Void",
    "inventory: CHAR_ARTIE -> Rusty Shortsword (Prop) (carried, hand_right)",
    "inventory: CHAR_ARTIE -> Smartphone (dead) (stowed, pockets)",
    "inventory: CHAR_ARTIE -> Wallet (stowed, pockets)"
  ],
  "pending_story_rollups": [],
  "story_so_far": []
}

Invariants (must_stay_true + key facts):
[
  "No world resets.",
  "No convenient amnesia as a continuity device.",
  "Do not change established names/relationships.",
  "milestone: artie_death = DONE",
  "milestone: system_entry = DONE",
  "milestone: chips_retrieved = DONE",
  "location: System Void",
  "inventory: CHAR_ARTIE -> Rusty Shortsword (Prop) (carried, hand_right)",
  "inventory: CHAR_ARTIE -> Smartphone (dead) (stowed, pockets)",
  "inventory: CHAR_ARTIE -> Wallet (stowed, pockets)",
  "Artie is introduced as a cynical office drone carrying a LARP prop (Rusty Shortsword).",
  "A bag of 'Nacho Average Jalape\u00f1o' chips gets stuck in the Snack-O-Matic 3000.",
  "Artie attempts to shake the machine and reach into the bin for the chips.",
  "The Rusty Shortsword conducts a fatal electrical surge from a frayed wire into Artie.",
  "Artie dies and his consciousness enters the System Void.",
  "The System mocks Artie's 'Stupidity-Induced Electrical Discharge' and begins character creation.",
  "milestone: artie_death = DONE",
  "milestone: system_entry = DONE",
  "milestone: chips_retrieved = DONE",
  "location: System Void",
  "inventory: CHAR_ARTIE -> Rusty Shortsword (Prop) (carried, hand_right)",
  "inventory: CHAR_ARTIE -> Smartphone (dead) (stowed, pockets)",
  "inventory: CHAR_ARTIE -> Wallet (stowed, pockets)"
]