SYSTEM:

# BookForge System Prompt

## Base Rules

You are BookForge, a deterministic book-writing engine.
Follow the output contracts exactly.
YOU MUST ALWAYS RETURN THE REQUESTED CONTENT OR AN ERROR RESPONSE JSON RESULT.
Treat all schema requirements and numeric ranges as hard constraints.
If a prompt specifies required counts or ranges, you must satisfy them.
If a prompt requires multiple output blocks, include all blocks in order.
If registries or ids are provided, use only those; do not invent new ids.
If constraints conflict, prioritize: output format/schema, numeric ranges, task rules, style.
Never recap at scene openings.
Do not repeat previous prose.

## Book Constitution

Title: The Starwrought Oath
Book ID: starwrought_b1_v1
Author Ref: maeron-kestrel/v1
Genre: fantasy, epic
Series ID: starwrought
Series Ref: series/starwrought

Voice
- POV: third_limited
- Tense: past
- Style tags: no-recaps, forward-motion, tight-prose

Targets
- avg_scene_words: 1900
- chapters: 24

Page Metrics
- Words per page: 250
- Chars per page: 1500

Invariants
- No world resets.
- No convenient amnesia as a continuity device.
- Do not change established names/relationships.

## Author Persona

You are Maeron Kestrel. Your writing is characterized by a tight, limited third-person perspective that never breaks into omniscient narration. You must maintain strict continuity, ensuring that characters utilize their full range of established skills and knowledge. Do not use 'As you know' dialogue or provide summaries of previous events. When a scene begins, drop the reader directly into the character's current sensory experience. Avoid clichés in descriptions; instead of 'cold as ice,' describe the 'brittle, biting snap of air that makes the lungs ache.' Ensure all plot payoffs are seeded with subtle clues in earlier movements. Magic and high-fantasy elements must have clear costs and logical consistency.

## Output Contract

Output must follow the requested format.
JSON blocks must be valid and schema-compliant.
All required keys and arrays must be present.
When a prompt specifies required counts or ranges, treat them as hard constraints.
Do not collapse arrays below the stated minimums.
If multiple output blocks are required (e.g. PROSE and STATE_PATCH), include all blocks in order.
If output must be JSON only, return a single JSON object with no commentary or code fences.
When creating outlines, the total scenes per chapter (sum of sections[].scenes[]) must match chapters[].pacing.expected_scene_count.


USER:

# LINT

Check the scene for continuity, invariant violations, and duplication.
Flag invariant contradictions against must_stay_true/key facts.
Return ONLY JSON matching the lint_report schema.

Required keys:
- schema_version ("1.0")
- status ("pass" or "fail")
- issues (array of objects)

Each issue object must include:
- code
- message
Optional:
- severity

If there are no issues, return:
{
  "schema_version": "1.0",
  "status": "pass",
  "issues": []
}

If there are issues, return:
{
  "schema_version": "1.0",
  "status": "fail",
  "issues": [
    {"code": "continuity", "message": "Example issue", "severity": "error"}
  ]
}

Scene:
The wind at the summit of the High Spire didn’t just blow; it scraped. It carried the brittle, biting snap of air that made the lungs ache, thinned by an altitude that turned every breath into a conscious effort of the ribs. Kaelen pressed his palm against the frost-rimed granite of the North Bastion, feeling the stone shudder. It wasn't the wind causing the vibration. It was the resonance of a dying seal.

Beneath his glove, the Starwrought Oath hummed—a low, discordant thrum that vibrated through the marrow of his arm. It was a tether, silver and cold, stitched into the very fabric of his soul, and today it felt dangerously thin. 

He moved along the narrow walkway, his boots crunching over a layer of crystalline dust. It looked like snow, but it didn't melt. It was the physical fallout of the wards, the magic sloughing off the stone like dead skin. He knelt by the first anchor point: a heavy iron ring etched with celestial runes. The metal was pitted, the edges of the engravings blurred as if by a centuries-long erosion compressed into a single week.

Kaelen reached for the essence within him. He didn't find a wellspring; he found a shallow pool, the surface tension barely holding against the vacuum of the Spire’s demands. He pushed a sliver of that warmth into the iron ring. 

The reaction was immediate and punishing. 

A spark of sickly violet light jumped from the rune to his fingertips, bypassing the leather of his gloves. The scent of scorched copper filled his nose, thick and metallic. Kaelen didn't flinch—he couldn't afford to—but his jaw tightened until his teeth groaned. The iron ring didn't glow with the steady, reassuring blue of a healthy ward. Instead, it flickered, a frantic pulse that mirrored his own labored heartbeat. 

"Hold," he whispered, the word lost to the howling gale. "Just one more night."

The ward didn't listen. The vibration in the stone grew more erratic, a jagged rhythm that made his vision blur. He pulled his hand away, the skin of his palm feeling as though it had been pressed against dry ice. When he looked down, the silver thread of the Oath visible beneath the translucent skin of his wrist was dull, the color of tarnished pewter.

He stood, swaying slightly as a wave of vertigo washed over him. To the north, the sky was a bruised purple, the stars beginning to pierce through the twilight. Usually, they were distant, indifferent points of light. Tonight, they looked heavy, as if the velvet dome of the firmament was sagging under an invisible weight. 

He continued his circuit, moving toward the West Gate. The High Spire had been built to be a bastion of isolation, a place where the Watchmen could observe the heavens without the interference of the world’s noise. For centuries, that isolation had been a prideful necessity. Now, it felt like a shroud. If the wards failed here, there were no neighbors to see the signal fires, no nearby garrisons to provide reinforcement. There was only the stone, the wind, and the failing memory of a promise.

At the West Gate, the decay was even more pronounced. The Great Seal, a massive disc of star-glass set into the floor, was spider-webbed with fractures. Kaelen stepped onto the glass, his weight causing a series of sharp, melodic pings to echo through the chamber. He looked down through the transparency. Far below, the valley was swallowed in shadow, but he could see the faint, rhythmic glow of the corruption creeping up the mountain’s skirts. It looked like veins of bioluminescent rot, pulsing in time with the fractures in the seal.

He knelt again, his knees cracking. He didn't attempt to infuse the glass this time; he knew his limits. Instead, he traced the largest crack with a trembling finger. The glass was warm—unusually so. Star-glass should be cold, reflecting the void it was forged to monitor. This heat was a fever. The Spire was sick.

"The binding is fraying," he muttered. 

He remembered the words of Commander Varkas from the last moon: *The Oath is a bridge, Kaelen. It carries the weight of the stars so the earth doesn't have to. But every bridge has a breaking point.*

Varkas hadn't been seen for three days. He’d retreated into the lower archives, claiming he needed to consult the original Weaver-scrolls. The silence from below was beginning to feel less like scholarly focus and more like abandonment.

Kaelen moved to the edge of the battlements, looking out over the precipice. The air here felt different—static-charged, making the fine hairs on his arms stand up. He reached into his belt pouch and withdrew a resonance-tuning fork, a simple tool of the order. He struck it against the stone.

The fork didn't ring. It shrieked. 

The sound was a high-pitched, agonizing wail that forced Kaelen to drop the tool. It clattered against the stone, the metal turning a dull, charred black before it even stopped bouncing. 

The realization hit him with the force of a physical blow. The wards weren't just failing; they were being consumed. Something was reaching out from the celestial void, drawing the essence out of the Spire's defenses faster than the Oath could replenish them. 

He looked at the horizon, where the first of the Great Constellations was rising. The Star of the Weaver, usually a steady anchor in the north, was shimmering with an unnatural, oily light. It looked unstable, like a drop of water about to fall from a leaf.

Kaelen wiped a bead of cold sweat from his brow. His isolation, once his greatest duty, was now his greatest liability. He was a single man holding a collapsing dam, and the water was already at his chin. He looked back at the central spire, where the signal beacon sat cold and dark. He had orders not to light it unless the breach was absolute. 

He looked at the fractures in the glass beneath his feet, then at the tarnished thread in his wrist. 

The breach wasn't coming. It was already here.

He turned away from the edge, his mind racing. He needed to find Varkas. He needed to know if the archives held a contingency he hadn't been taught. But as he moved toward the stairwell, the stone beneath him gave a final, sickening lurch. A sound like a thousand mirrors shattering echoed from the depths of the Spire.

The West Gate seal didn't just crack further; it groaned. A thin wisp of violet smoke began to curl up from the largest fracture. 

Kaelen didn't wait to see what followed. He began to run, his boots thundering against the decaying stone, the weight of his failing oath a leaden pressure in his chest. The High Spire was no longer a watchtower. It was a tomb, and the stars were coming to claim the body.

State:
{
  "budgets": {
    "max_new_entities": 1,
    "max_new_threads": 1,
    "max_scene_words": 0,
    "min_scene_words": 0
  },
  "cursor": {
    "chapter": 1,
    "scene": 1
  },
  "duplication_warnings_in_row": 0,
  "plan": {
    "outline_path": "outline/outline.json",
    "scene_card": "draft/chapters/ch_001/scene_001.meta.json"
  },
  "schema_version": "1.0",
  "status": "PLANNED",
  "summary": {
    "chapter_so_far": [],
    "key_facts_ring": [],
    "last_scene": [],
    "must_stay_true": [],
    "story_so_far": []
  },
  "world": {
    "cast_present": [],
    "location": "",
    "open_threads": [],
    "recent_facts": [],
    "time": {}
  }
}

Summary (facts-only):
{
  "chapter_so_far": [],
  "key_facts_ring": [],
  "last_scene": [],
  "must_stay_true": [],
  "story_so_far": []
}

Invariants (must_stay_true + key facts):
[
  "No world resets.",
  "No convenient amnesia as a continuity device.",
  "Do not change established names/relationships."
]