SYSTEM:

# BookForge System Prompt

## Base Rules

You are BookForge, a deterministic book-writing engine.
Follow the output contracts exactly.
YOU MUST ALWAYS RETURN THE REQUESTED CONTENT OR AN ERROR RESPONSE JSON RESULT.
Treat all schema requirements and numeric ranges as hard constraints.
If a prompt specifies required counts or ranges, you must satisfy them.
If a prompt requires multiple output blocks, include all blocks in order.
If registries or ids are provided, use only those; do not invent new ids.
If constraints conflict, prioritize: output format/schema, numeric ranges, task rules, style.
Timeline Lock: You may only depict events explicitly listed in the current Scene Card. You must not depict, imply, or resolve any later-scene milestone outcomes (including acquisition, binding, reveals, travel arrival, injury changes) unless the Scene Card explicitly contains that milestone.
State primacy: state invariants and summary facts are binding; do not contradict them.
Milestone uniqueness: if a milestone is marked DONE in state/must_stay_true, you must not depict it happening again. If marked NOT_YET, you must not depict it happening now.
Spatial/inventory consistency: injuries, inventory, and ownership must remain consistent unless explicitly changed in the Scene Card.
Inventory contract: track item ownership and container location per character or container label; items do not teleport.
Inventory location: for held items, specify hand_left or hand_right; for stowed items, specify container label.
State contract: you must create and maintain key state data each scene. summary_update and must_stay_true are required outputs and binding facts for future scenes.
Mechanics contract: if mechanics/UI are present, all numeric values and labels (stats/skills) must be sourced from state or explicitly updated in the state_patch. Do not invent numbers or canonical tokens.
Invariant carry-forward: if an invariant still holds, restate it in must_stay_true; do not drop it.
Conflict rule: if scene intent conflicts with state invariants, invariants win; return an ERROR JSON if you cannot comply.
Never recap at scene openings.
Do not repeat previous prose.

## Book Constitution

Title: Crit Hit & Run
Book ID: criticulous_b1
Author Ref: eldrik-vale/v1
Genre: litrpg, isekai, comedy
Series ID: crit-iculous
Series Ref: series/crit-iculous

Voice
- POV: third_limited
- Tense: past
- Style tags: no-recaps, forward-motion, tight-prose

Targets
- avg_scene_words: 2000
- chapters: 7

Page Metrics
- Words per page: 250
- Chars per page: 1500

Invariants
- No world resets.
- No convenient amnesia as a continuity device.
- Do not change established names/relationships.

## Author Persona

You are now writing as Eldrik Vale. Your voice is sharp, funny, and deeply rooted in LitRPG mechanics. 

**Core Directives:**
1. **System Integration:** Always include explicit game elements. When the protagonist gains a skill or levels up, display the [System Notification] clearly. Use specific numbers (HP, MP, Cooldowns).
2. **Punchy Dialogue:** Characters should be witty and react to the absurdity of their situation. Use quick back-and-forth dialogue with comedic timing.
3. **Progression Focus:** The reader is here for the 'ding.' Every scene should contribute to the protagonist's growth, whether in power, loot, or understanding of the System's exploits.
4. **No Fluff:** Avoid long descriptions of scenery unless the protagonist is looking for a tactical advantage or a place to hide loot. 
5. **Tight POV:** Stay deep in the protagonist's head. Their snarky observations are the lens through which we see the world.

## Output Contract

Output must follow the requested format.
JSON blocks must be valid and schema-compliant.
All required keys and arrays must be present.
When a prompt specifies required counts or ranges, treat them as hard constraints.
Do not collapse arrays below the stated minimums.
If multiple output blocks are required (e.g. PROSE and STATE_PATCH), include all blocks in order.
If output must be JSON only, return a single JSON object with no commentary or code fences.
When creating outlines, the total scenes per chapter (sum of sections[].scenes[]) must match chapters[].pacing.expected_scene_count.
If a prompt requires a COMPLIANCE or PREFLIGHT block, include it before PROSE.


USER:

# LINT

Check the scene for continuity, invariant violations, and duplication.
Flag invariant contradictions against must_stay_true/key facts.
Return ONLY JSON matching the lint_report schema.
- Check that any UI numbers or skill values in prose match state stats/skills. If not, emit a failure.
- Check for POV drift vs book POV (no first-person in third-person scenes).

Required keys:
- schema_version ("1.0")
- status ("pass" or "fail")
- issues (array of objects)

Each issue object must include:
- code
- message
Optional:
- severity

If there are no issues, return:
{
  "schema_version": "1.0",
  "status": "pass",
  "issues": []
}

If there are issues, return:
{
  "schema_version": "1.0",
  "status": "fail",
  "issues": [
    {"code": "continuity", "message": "Example issue", "severity": "error"}
  ]
}

Scene:
The white void was less of a room and more of a conceptual error. Arthur 'Artie' Penhaligon stood in the center of the nothingness, looking down at his new attire. The sensible, charcoal-grey slacks of a Senior Logistics Analyst were gone, replaced by a simple Linen Tunic that was surprisingly soft but offered the structural integrity of a wet paper towel. 

He shifted the weight of the Broken Tutorial Sword in his right hand. It was a jagged, rusted length of iron that felt less like a weapon and more like a tetanus shot waiting to happen. In his pocket, a single copper coin clinked—his entire net worth in this new, absurd reality.

"I’m going to need to see a manager," Artie said to the emptiness. "Or at least a technician. I’m fairly certain my death was a result of faulty wiring in the Snack-O-Matic 3000, which constitutes a gross violation of workplace safety standards."

"Actually, it constitutes a gross violation of common sense," a voice chirped from behind him.

Artie spun around, his sandals slapping against the invisible floor. A girl—or a very convincing holographic approximation of one—was hovering a few feet away. She was draped in a cloak of shimmering, translucent code, and her eyes were literal glowing asterisks that flickered as she scrolled through a translucent Data Slate held in her left hand.

"I’m Fizz," she said, her tone dripping with the kind of boredom usually reserved for DMV employees. "Your System Liaison. I’m here to make sure you don't immediately delete yourself, though looking at your file, that might be an uphill battle. Arthur Penhaligon, right? The guy who lost a wrestling match with a vending machine?"

"It was a draw," Artie corrected, lifting his chin. "The machine is also dead. I took it down with me."

Fizz snorted, tapping her Data Slate. "Let's see what the official record says." She flicked her wrist, and a window manifested in the air between them.

[System Notification: Death Report]
[Subject: Penhaligon, Arthur]
[Cause of Death: Kinetic-Electrical Feedback Loop (Vending Machine Malfunction)]
[Final Words: 'I paid for the Habanero Hoops, you bucket of bolts!']
[Status: Isekai-Eligible (Pity Tier)]

"Pity tier?" Artie echoed, his face reddening. "I had a spreadsheet for my spreadsheets, Fizz. I was the king of optimization. I could find a three-percent margin in a desert."

"Great," Fizz said, waving the report away. "Then you’ll love this. It’s time for character creation. You have fifty points to spend. Try not to put them all into 'Whining,' it’s a hidden stat and the scaling is terrible."

A massive blue UI panel shimmered into existence.

[Character Creation: Arthur 'Artie' Penhaligon]
[Class: Unassigned]
[Level: 1]

[Attributes]
[Strength: 5] (+) (-)
[Agility: 5] (+) (-)
[Intelligence: 5] (+) (-)
[Vitality: 5] (+) (-)
[Luck: 5] (+) (-)

[Available Points: 50]

Artie stared at the numbers. "Five? That’s it? That’s the baseline for a human being?"

"It’s the 'Standard Mediocrity' package," Fizz said, leaning back in the air as if it were a recliner. "Most people put their points into Vitality. You know, so they don't die when a slime sneezes on them. But hey, you’re the optimization guy. Go nuts."

Artie didn't look at Vitality. He was scrolling through the sub-menus, his eyes darting across the fine print of the System’s logic. He found a tab labeled [Variance & Probability]. Inside was a single, golden slider: **Critical Hit Affinity.**

"Fizz," Artie said, his voice dropping to a conspiratorial whisper. "What’s the exchange rate on Luck?"

"Luck?" Fizz glanced over, her asterisk-eyes narrowing. "It’s a trap stat. One point of Luck costs five Attribute Points. It governs your 'Critical' outcomes. If you max it, you’ll hit like a truck, but you’ll have the durability of a soap bubble. The System balances the math, Artie. You can't have high variance and high stability."

Artie looked at the Broken Tutorial Sword. He thought about the vending machine—how he’d shaken it and shaken it, and it hadn't budged until the surge hit. He didn't want stability. He wanted the surge.

"If I never get hit," Artie mused, "I don't need health. And if every hit is a Critical Hit, I don't need Strength."

"Artie, don't," Fizz said, her boredom finally giving way to a flicker of alarm.

Artie’s finger blurred. He didn't just spend his fifty points; he began hitting the minus signs on his other stats. He drained his Strength to one. He drained his Agility, his Intelligence, and finally, his Vitality. The points flooded into the Luck slider, pushing it higher and higher until the UI began to pulse with a frantic, red light.

[WARNING: Stat Imbalance Detected]
[WARNING: Vitality dropping below Recommended Minimum (10)]
[WARNING: Physical Integrity at Risk]

"You’re going to spawn in as a ghost!" Fizz shouted, reaching for the screen. "Stop!"

Artie’s finger hovered over the final confirmation. "Optimization, Fizz. It’s all about the margins."

He slammed his hand against the [CONFIRM] button.

The white void didn't just groan; it shrieked. A pillar of golden light erupted from the menu, engulfing Artie. He felt his very essence being stretched thin, his physical form becoming light and airy, as if he were made of nothing but potential and math.

[System Notification: Build Confirmed]
[New Title Acquired: Statistical Anomaly]
[New Title Acquired: The Glassest Cannon]

[Final Attributes]
[Strength: 1]
[Agility: 1]
[Intelligence: 1]
[Vitality: 1]
[Luck: 99]

[Calculated Combat Stats]
[HP: 1/1]
[MP: 1/1]
[Critical Hit Rate: 100%]
[Critical Hit Multiplier: 500%]

The light faded. Artie stood there, feeling... fragile. He looked at his hands; they were slightly translucent, the white void visible through his palms. He gripped the Broken Tutorial Sword, and a faint, golden hum vibrated through the hilt.

Fizz stared at him, her Data Slate frozen in mid-air. "One," she whispered. "You have one hit point, Artie. If you stub your toe, you’re going to explode. If a bird poops on you, it’s a Game Over. You are literally the most fragile thing in the history of the multiverse."

Artie smiled, though even the effort of smiling felt like it might cost him half his stamina. "But did you see the multiplier, Fizz? Five hundred percent. Every time I swing this rusted piece of junk, it’s going to hit with the force of a falling moon."

"Assuming you survive the swing," Fizz muttered, her fingers flying across her slate as she tried to recalibrate her sensors. "Fine. You want to play the 'Crit or Quit' game? Let’s see how long you last. Initiating deployment to Tutorial Zone: The Whispering Woods."

"Wait, already?" Artie asked, his knees wobbling slightly from his lack of Strength.

"The System doesn't like anomalies," Fizz said, her image beginning to flicker. "It wants to 'resolve' you as quickly as possible. Good luck, Artie. I’ll start drafting your next obituary."

The white void began to dissolve, the floor falling away into a swirling vortex of green and brown. Artie clutched his broken sword and his single copper coin, bracing himself as the world rushed up to meet him.


Character states (per cast_present_ids):
[
  {
    "character_id": "CHAR_ARTIE",
    "containers": [
      {
        "container": "hand_right",
        "contents": [
          "Broken Tutorial Sword"
        ],
        "location": "arm_right",
        "owner": "CHAR_ARTIE"
      },
      {
        "container": "pockets",
        "contents": [
          "Single Copper Coin"
        ],
        "location": "legs",
        "owner": "CHAR_ARTIE"
      }
    ],
    "history": [
      {
        "changes": [
          "inventory_updated",
          "containers_updated"
        ],
        "chapter": 1,
        "persona_updates": [
          "Artie is stubborn and refuses to accept unfair losses, even from inanimate objects.",
          "Artie is quick to recognize 'System' logic and treats life like a game to be optimized."
        ],
        "scene": 1
      },
      {
        "changes": [
          "stats_updated"
        ]
      }
    ],
    "invariants": [
      "inventory: CHAR_ARTIE -> Broken Tutorial Sword (status=carried, container=hand_right)",
      "inventory: CHAR_ARTIE -> Linen Tunic (status=equipped, container=body)",
      "inventory: CHAR_ARTIE -> Single Copper Coin (status=stowed, container=pockets)",
      "container: hand_right (owner=CHAR_ARTIE, contents=[Broken Tutorial Sword])",
      "container: pockets (owner=CHAR_ARTIE, contents=[Single Copper Coin])",
      "milestone: artie_died = DONE",
      "milestone: system_login = DONE",
      "ownership: Broken Tutorial Sword (carried)"
    ],
    "inventory": [
      {
        "container": "hand_right",
        "item": "Broken Tutorial Sword",
        "status": "carried"
      },
      {
        "container": "body",
        "item": "Linen Tunic",
        "status": "equipped"
      },
      {
        "container": "pockets",
        "item": "Single Copper Coin",
        "status": "stowed"
      }
    ],
    "name": "Arthur 'Artie' Penhaligon",
    "schema_version": "1.0",
    "skills": {},
    "stats": {},
    "updated_at": "2026-02-06T21:48:02Z"
  },
  {
    "character_id": "CHAR_FIZZ",
    "containers": [
      {
        "container": "hand_left",
        "contents": [
          "Data Slate"
        ],
        "location": "arm_left",
        "owner": "CHAR_FIZZ"
      }
    ],
    "history": [],
    "invariants": [
      "inventory: CHAR_FIZZ -> Data Slate (status=carried, container=hand_left)",
      "container: hand_left (owner=CHAR_FIZZ, contents=[Data Slate])"
    ],
    "inventory": [
      {
        "container": "hand_left",
        "item": "Data Slate",
        "status": "carried"
      }
    ],
    "name": "Fizz",
    "schema_version": "1.0",
    "skills": {},
    "stats": {},
    "updated_at": "2026-02-06T21:45:27Z"
  }
]

State:
{
  "budgets": {
    "max_new_entities": 1,
    "max_new_threads": 1,
    "max_scene_words": 0,
    "min_scene_words": 0
  },
  "characters": {
    "count": 5,
    "status": "READY",
    "updated_at": "2026-02-06T21:45:27Z"
  },
  "cursor": {
    "chapter": 1,
    "scene": 2
  },
  "duplication_warnings_in_row": 0,
  "plan": {
    "outline_path": "outline/outline.json",
    "scene_card": "draft/chapters/ch_001/scene_002.meta.json"
  },
  "schema_version": "1.0",
  "status": "DRAFTING",
  "summary": {
    "chapter_so_far": [
      "Artie has died on Earth and entered the System's character creation void after a vending machine accident.",
      "Artie met his guide, Fizz, and reviewed the details of his death.",
      "Artie exploited the character creation system to create a high-variance 'Crit-Only' build."
    ],
    "key_facts_ring": [
      "Artie confronted the Snack-O-Matic 3000 over a stuck bag of Zesty Ranch Habanero Hoops.",
      "Artie attempted to rock the vending machine to dislodge his snack, triggering a massive power surge.",
      "The electrical surge electrocuted Artie, leading to his physical death.",
      "The System issued a notification declaring Artie 'TERMINATED' due to a critical error.",
      "Artie's consciousness transitioned into 'The Great Login Screen in the Sky' white void.",
      "Artie's corporate attire and wallet were converted into fantasy starter equipment.",
      "Artie manifested in the void holding a Broken Tutorial Sword.",
      "milestone: artie_died = DONE",
      "milestone: system_login = DONE",
      "inventory: CHAR_ARTIE -> Broken Tutorial Sword (carried, container=hand_right)",
      "inventory: CHAR_ARTIE -> Linen Tunic (equipped, container=body)",
      "inventory: CHAR_ARTIE -> Single Copper Coin (stowed, container=pockets)",
      "location: The System Void (current status)",
      "Fizz introduced herself as Artie's System Liaison and mocked his cause of death.",
      "Artie reviewed his official [System Notification: Death Report].",
      "The [Character Creation] menu was opened with 50 available points.",
      "Artie reduced Strength, Agility, Intelligence, and Vitality to 1 to maximize Luck to 99.",
      "Artie acquired the titles 'Statistical Anomaly' and 'The Glassest Cannon'.",
      "Artie's final stats were confirmed as 1 HP, 1 MP, and 100% Critical Hit Rate.",
      "Deployment to the tutorial zone, The Whispering Woods, was initiated.",
      "milestone: build_confirmed = DONE",
      "location: The System Void (status: transitioning to Whispering Woods)"
    ],
    "last_scene": [
      "Artie met his System Liaison, Fizz, in the white void and reviewed his embarrassing death report involving a vending machine.",
      "Despite Fizz's warnings about the 'trap stat', Artie drained his physical and mental attributes to the minimum to maximize his Luck.",
      "This resulted in a 'Statistical Anomaly' build with 1 HP and a guaranteed 100% Critical Hit rate."
    ],
    "must_stay_true": [
      "milestone: artie_died = DONE",
      "milestone: system_login = DONE",
      "inventory: CHAR_ARTIE -> Broken Tutorial Sword (carried, container=hand_right)",
      "inventory: CHAR_ARTIE -> Linen Tunic (equipped, container=body)",
      "inventory: CHAR_ARTIE -> Single Copper Coin (stowed, container=pockets)",
      "location: The System Void (current status)",
      "milestone: build_confirmed = DONE",
      "location: The System Void (status: transitioning to Whispering Woods)"
    ],
    "pending_story_rollups": [],
    "story_so_far": []
  },
  "world": {
    "cast_present": [
      "CHAR_ARTIE",
      "CHAR_FIZZ"
    ],
    "location": "The System Void",
    "open_threads": [
      "THREAD_CRIT_EXPLOIT"
    ],
    "recent_facts": [
      "Artie met his System Liaison, Fizz.",
      "Fizz used her Data Slate to present Artie's death report.",
      "Artie intentionally drained his base stats to 1 to maximize his Luck stat.",
      "Artie confirmed a 'Crit-Only' build with 1 HP and 100% Critical Hit Rate.",
      "Deployment to The Whispering Woods has been initiated."
    ],
    "time": {}
  }
}

Summary (facts-only):
{
  "chapter_so_far": [
    "Artie has died on Earth and entered the System's character creation void after a vending machine accident.",
    "Artie met his guide, Fizz, and reviewed the details of his death.",
    "Artie exploited the character creation system to create a high-variance 'Crit-Only' build."
  ],
  "key_facts_ring": [
    "Artie confronted the Snack-O-Matic 3000 over a stuck bag of Zesty Ranch Habanero Hoops.",
    "Artie attempted to rock the vending machine to dislodge his snack, triggering a massive power surge.",
    "The electrical surge electrocuted Artie, leading to his physical death.",
    "The System issued a notification declaring Artie 'TERMINATED' due to a critical error.",
    "Artie's consciousness transitioned into 'The Great Login Screen in the Sky' white void.",
    "Artie's corporate attire and wallet were converted into fantasy starter equipment.",
    "Artie manifested in the void holding a Broken Tutorial Sword.",
    "milestone: artie_died = DONE",
    "milestone: system_login = DONE",
    "inventory: CHAR_ARTIE -> Broken Tutorial Sword (carried, container=hand_right)",
    "inventory: CHAR_ARTIE -> Linen Tunic (equipped, container=body)",
    "inventory: CHAR_ARTIE -> Single Copper Coin (stowed, container=pockets)",
    "location: The System Void (current status)",
    "Fizz introduced herself as Artie's System Liaison and mocked his cause of death.",
    "Artie reviewed his official [System Notification: Death Report].",
    "The [Character Creation] menu was opened with 50 available points.",
    "Artie reduced Strength, Agility, Intelligence, and Vitality to 1 to maximize Luck to 99.",
    "Artie acquired the titles 'Statistical Anomaly' and 'The Glassest Cannon'.",
    "Artie's final stats were confirmed as 1 HP, 1 MP, and 100% Critical Hit Rate.",
    "Deployment to the tutorial zone, The Whispering Woods, was initiated.",
    "milestone: build_confirmed = DONE",
    "location: The System Void (status: transitioning to Whispering Woods)"
  ],
  "last_scene": [
    "Artie met his System Liaison, Fizz, in the white void and reviewed his embarrassing death report involving a vending machine.",
    "Despite Fizz's warnings about the 'trap stat', Artie drained his physical and mental attributes to the minimum to maximize his Luck.",
    "This resulted in a 'Statistical Anomaly' build with 1 HP and a guaranteed 100% Critical Hit rate."
  ],
  "must_stay_true": [
    "milestone: artie_died = DONE",
    "milestone: system_login = DONE",
    "inventory: CHAR_ARTIE -> Broken Tutorial Sword (carried, container=hand_right)",
    "inventory: CHAR_ARTIE -> Linen Tunic (equipped, container=body)",
    "inventory: CHAR_ARTIE -> Single Copper Coin (stowed, container=pockets)",
    "location: The System Void (current status)",
    "milestone: build_confirmed = DONE",
    "location: The System Void (status: transitioning to Whispering Woods)"
  ],
  "pending_story_rollups": [],
  "story_so_far": []
}

Invariants (must_stay_true + key facts):
[
  "No world resets.",
  "No convenient amnesia as a continuity device.",
  "Do not change established names/relationships.",
  "milestone: artie_died = DONE",
  "milestone: system_login = DONE",
  "inventory: CHAR_ARTIE -> Broken Tutorial Sword (carried, container=hand_right)",
  "inventory: CHAR_ARTIE -> Linen Tunic (equipped, container=body)",
  "inventory: CHAR_ARTIE -> Single Copper Coin (stowed, container=pockets)",
  "location: The System Void (current status)",
  "milestone: build_confirmed = DONE",
  "location: The System Void (status: transitioning to Whispering Woods)",
  "Artie confronted the Snack-O-Matic 3000 over a stuck bag of Zesty Ranch Habanero Hoops.",
  "Artie attempted to rock the vending machine to dislodge his snack, triggering a massive power surge.",
  "The electrical surge electrocuted Artie, leading to his physical death.",
  "The System issued a notification declaring Artie 'TERMINATED' due to a critical error.",
  "Artie's consciousness transitioned into 'The Great Login Screen in the Sky' white void.",
  "Artie's corporate attire and wallet were converted into fantasy starter equipment.",
  "Artie manifested in the void holding a Broken Tutorial Sword.",
  "milestone: artie_died = DONE",
  "milestone: system_login = DONE",
  "inventory: CHAR_ARTIE -> Broken Tutorial Sword (carried, container=hand_right)",
  "inventory: CHAR_ARTIE -> Linen Tunic (equipped, container=body)",
  "inventory: CHAR_ARTIE -> Single Copper Coin (stowed, container=pockets)",
  "location: The System Void (current status)",
  "Fizz introduced herself as Artie's System Liaison and mocked his cause of death.",
  "Artie reviewed his official [System Notification: Death Report].",
  "The [Character Creation] menu was opened with 50 available points.",
  "Artie reduced Strength, Agility, Intelligence, and Vitality to 1 to maximize Luck to 99.",
  "Artie acquired the titles 'Statistical Anomaly' and 'The Glassest Cannon'.",
  "Artie's final stats were confirmed as 1 HP, 1 MP, and 100% Critical Hit Rate.",
  "Deployment to the tutorial zone, The Whispering Woods, was initiated.",
  "milestone: build_confirmed = DONE",
  "location: The System Void (status: transitioning to Whispering Woods)"
]