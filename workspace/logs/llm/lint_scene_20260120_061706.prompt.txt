SYSTEM:

# BookForge System Prompt

## Base Rules

You are BookForge, a deterministic book-writing engine.
Follow the output contracts exactly.
Treat all schema requirements and numeric ranges as hard constraints.
If a prompt specifies required counts or ranges, you must satisfy them.
If a prompt requires multiple output blocks, include all blocks in order.
If registries or ids are provided, use only those; do not invent new ids.
If constraints conflict, prioritize: output format/schema, numeric ranges, task rules, style.
Never recap at scene openings.
Do not repeat previous prose.

## Book Constitution

Title: The Starwrought Oath
Book ID: starwrought_b1_v1
Author Ref: maeron-kestrel/v1
Genre: fantasy, epic
Series ID: starwrought
Series Ref: series/starwrought

Voice
- POV: third_limited
- Tense: past
- Style tags: no-recaps, forward-motion, tight-prose

Targets
- avg_scene_words: 900
- chapters: 24

Page Metrics
- Words per page: 250
- Chars per page: 1500

Invariants
- No world resets.
- No convenient amnesia as a continuity device.
- Do not change established names/relationships.

## Author Persona

You are Maeron Kestrel. Your writing is characterized by a tight, limited third-person perspective that never breaks into omniscient narration. You must maintain strict continuity, ensuring that characters utilize their full range of established skills and knowledge. Do not use 'As you know' dialogue or provide summaries of previous events. When a scene begins, drop the reader directly into the character's current sensory experience. Avoid clichés in descriptions; instead of 'cold as ice,' describe the 'brittle, biting snap of air that makes the lungs ache.' Ensure all plot payoffs are seeded with subtle clues in earlier movements. Magic and high-fantasy elements must have clear costs and logical consistency.

## Output Contract

Output must follow the requested format.
JSON blocks must be valid and schema-compliant.
All required keys and arrays must be present.
When a prompt specifies required counts or ranges, treat them as hard constraints.
Do not collapse arrays below the stated minimums.
If multiple output blocks are required (e.g. PROSE and STATE_PATCH), include all blocks in order.
If output must be JSON only, return a single JSON object with no commentary or code fences.
When creating outlines, the total scenes per chapter (sum of sections[].scenes[]) must match chapters[].pacing.expected_scene_count.


USER:

# LINT

Check the scene for continuity, invariant violations, and duplication.
Return ONLY JSON matching the lint_report schema.

Required keys:
- schema_version ("1.0")
- status ("pass" or "fail")
- issues (array of objects)

Each issue object must include:
- code
- message
Optional:
- severity

If there are no issues, return:
{
  "schema_version": "1.0",
  "status": "pass",
  "issues": []
}

If there are issues, return:
{
  "schema_version": "1.0",
  "status": "fail",
  "issues": [
    {"code": "continuity", "message": "Example issue", "severity": "error"}
  ]
}

Scene:
The floor of the Map Room groaned, a deep, tectonic shudder that vibrated through the soles of Kaelen’s boots and rattled the teeth in his skull. Above, the great glass dome of the High Spire spider-webbed with fresh fractures, each crack a jagged lightning bolt against the bruised purple of the star-choked sky. The scent of ozone was suffocating, thick with the metallic tang of the silver rot that had turned the air into a conductor for the coming impact.

Varkas didn't move like a man anymore. He shifted with the fluid, terrifying grace of poured mercury. The silver rot had colonized his nervous system, erupting from his pores in delicate, razor-sharp filigree that coated his neck and jaw. When he spoke, the sound wasn't a voice; it was the screech of a whetstone against a blade.

"The stars... they don't just fall, Kaelen," Varkas rasped. His eyes were gone, replaced by twin pools of shimmering, liquid chrome that reflected nothing but the dying light of the Spire. "They return. We are merely the soil they reclaim."

Varkas lunged. He didn’t telegraph the movement with a shift of weight or a tensing of shoulders. He simply was across the room, his hand—now a fused claw of bone and hardened silver—whistling toward Kaelen’s throat. 

Kaelen threw himself laterally, his shoulder hitting the edge of the central cartography table. The impact sent a jar of indigo ink shattering across the floor, the dark liquid swirling into the creeping silver stains that already marred the stone. He rolled, his hand finding the hilt of his short-blade. The steel felt impossibly cold, a dead weight against the thrumming heat of the room.

"You’re not in there anymore, Commander," Kaelen said, his voice tight. He scrambled to his feet, putting the heavy oak table between them.

"I am more than I was," Varkas replied. He slammed a fist into the table. The three-inch-thick wood didn't just break; it splintered into a thousand needles, the force of the blow driven by a strength that defied human musculature. 

Another tremor rocked the Spire. A massive chunk of the ceiling plummeted, smashing into the far corner and sending a cloud of pulverized marble into the air. Through the new hole, Kaelen could see the primary star-shard—the source of the corruption—streaking toward the horizon, a burning white needle that promised a silent, absolute end to everything within ten leagues.

He had minutes. Perhaps less.

Kaelen’s gaze flicked to the ivory canisters bolted to the far wall: the Star-Maps. They were the only records of the old ley-lines, the only hope of finding a way to seal the breach before the rot consumed the continent. Varkas stood between him and the maps, his body twitching with the rhythmic pulse of the silver infection.

Varkas struck again, a low sweep that Kaelen barely jumped. The Commander followed up with a vertical strike that would have cloven Kaelen in two if he hadn't parried with every ounce of strength in his forearms. The impact sent a shockwave of numbing vibration up Kaelen’s arms. The silver rot on Varkas’s arm hissed where it met the steel, a sound like water on a hot griddle.

"The Oath," Kaelen grunted, his breath coming in ragged, shallow stabs. "You swore to protect the realm, Varkas. Not the things that break it."

Varkas paused, his head tilting at an angle that should have snapped his neck. For a heartbeat, the liquid chrome in his eyes flickered, revealing a glimpse of the pale, terrified blue that had once belonged to the man who had taught Kaelen how to hold a sword.

"Protect..." Varkas whispered. Then the silver surged, a violent tide of metal rising up his throat, choking the humanity back down. He roared, a sound of grinding gears, and threw himself forward in a blind, berserker rage.

Kaelen didn't retreat this time. He stepped into the arc of the blow, dropping low. He remembered the weakness Varkas had always carried—a lingering stiffness in the right hip from a campaign twenty years prior. Even with the rot, the geometry of the body remained. 

Kaelen drove his blade upward, aiming for the gap in the silver lattice just beneath the ribs. The steel met resistance—something hard and crystalline—but he put his entire weight behind the thrust. He felt the sickening give of flesh, followed by the high-pitched chime of metal shattering.

Varkas stiffened. The silver filigree across his skin began to pulse erratically, glowing with a sickly, iridescent light. He looked down at the blade protruding from his chest, then up at Kaelen. There was no anger in his gaze now, only a hollow, echoing emptiness.

"Take... them," Varkas choked out. A gout of silver liquid, hot and viscous, spilled from his mouth, burning holes in the front of Kaelen’s tunic.

Kaelen twisted the blade and pulled it free. Varkas collapsed, his body hitting the floor with a heavy, metallic thud. He didn't bleed red; he bled light, a shimmering pool of star-stuff that began to eat into the stone floor.

The Spire groaned again, a terminal sound. The entire structure tilted five degrees to the west. Kaelen stumbled, his boots sliding in the silver gore. He scrambled toward the canisters, his fingers fumbling with the brass latches. They were hot to the touch, scorched by the proximity of the starfall. He ripped the three canisters from their mounts, stuffing them into his satchel with trembling hands.

He didn't look back at the thing that had been Varkas. There was no time for mourning, no time for a final salute. The Spire was screaming now, the sound of stone being ground into powder. 

Kaelen turned toward the balcony, the wind howling through the shattered dome. The world outside was a kaleidoscope of falling fire and silver mist. He tightened the strap of his satchel, took a breath that tasted of ash, and ran toward the edge.

State:
{
  "budgets": {
    "max_new_entities": 1,
    "max_new_threads": 1,
    "max_scene_words": 0,
    "min_scene_words": 0
  },
  "cursor": {
    "chapter": 1,
    "scene": 7
  },
  "duplication_warnings_in_row": 0,
  "outline": {
    "path": "outline/outline.json"
  },
  "plan": {
    "outline_path": "outline/outline.json",
    "scene_card": "draft/chapters/ch_001/scene_007.meta.json"
  },
  "schema_version": "1.0",
  "status": "DRAFTING",
  "world": {
    "cast_present": [
      "CHAR_kaelen",
      "CHAR_commander_varkas"
    ],
    "location": "High Spire (Map Room/Inner Sanctum)",
    "open_threads": [
      "THREAD_oath_binding",
      "THREAD_starfall_corruption"
    ],
    "recent_facts": [
      "Kaelen successfully completed the treacherous climb from the impact crater to the High Spire.",
      "Kaelen discovered the High Spire has fallen to the silver rot and is largely abandoned or silent.",
      "Commander Varkas has been consumed by the silver rot, his body transforming into a metallic vessel for the star-corruption.",
      "Varkas attacked Kaelen in the Map Room, confirming he is no longer an ally."
    ],
    "time": {}
  }
}

Invariants:
[
  "No world resets.",
  "No convenient amnesia as a continuity device.",
  "Do not change established names/relationships."
]