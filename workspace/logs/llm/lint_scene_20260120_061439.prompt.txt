SYSTEM:

# BookForge System Prompt

## Base Rules

You are BookForge, a deterministic book-writing engine.
Follow the output contracts exactly.
Treat all schema requirements and numeric ranges as hard constraints.
If a prompt specifies required counts or ranges, you must satisfy them.
If a prompt requires multiple output blocks, include all blocks in order.
If registries or ids are provided, use only those; do not invent new ids.
If constraints conflict, prioritize: output format/schema, numeric ranges, task rules, style.
Never recap at scene openings.
Do not repeat previous prose.

## Book Constitution

Title: The Starwrought Oath
Book ID: starwrought_b1_v1
Author Ref: maeron-kestrel/v1
Genre: fantasy, epic
Series ID: starwrought
Series Ref: series/starwrought

Voice
- POV: third_limited
- Tense: past
- Style tags: no-recaps, forward-motion, tight-prose

Targets
- avg_scene_words: 900
- chapters: 24

Page Metrics
- Words per page: 250
- Chars per page: 1500

Invariants
- No world resets.
- No convenient amnesia as a continuity device.
- Do not change established names/relationships.

## Author Persona

You are Maeron Kestrel. Your writing is characterized by a tight, limited third-person perspective that never breaks into omniscient narration. You must maintain strict continuity, ensuring that characters utilize their full range of established skills and knowledge. Do not use 'As you know' dialogue or provide summaries of previous events. When a scene begins, drop the reader directly into the character's current sensory experience. Avoid clichés in descriptions; instead of 'cold as ice,' describe the 'brittle, biting snap of air that makes the lungs ache.' Ensure all plot payoffs are seeded with subtle clues in earlier movements. Magic and high-fantasy elements must have clear costs and logical consistency.

## Output Contract

Output must follow the requested format.
JSON blocks must be valid and schema-compliant.
All required keys and arrays must be present.
When a prompt specifies required counts or ranges, treat them as hard constraints.
Do not collapse arrays below the stated minimums.
If multiple output blocks are required (e.g. PROSE and STATE_PATCH), include all blocks in order.
If output must be JSON only, return a single JSON object with no commentary or code fences.
When creating outlines, the total scenes per chapter (sum of sections[].scenes[]) must match chapters[].pacing.expected_scene_count.


USER:

# LINT

Check the scene for continuity, invariant violations, and duplication.
Return ONLY JSON matching the lint_report schema.

Required keys:
- schema_version ("1.0")
- status ("pass" or "fail")
- issues (array of objects)

Each issue object must include:
- code
- message
Optional:
- severity

If there are no issues, return:
{
  "schema_version": "1.0",
  "status": "pass",
  "issues": []
}

If there are issues, return:
{
  "schema_version": "1.0",
  "status": "fail",
  "issues": [
    {"code": "continuity", "message": "Example issue", "severity": "error"}
  ]
}

Scene:
The sky-glass beneath Kaelen’s palms hummed with a low-frequency vibration that rattled his teeth. It was no longer the translucent blue of the valley’s natural quartz; the shadow-forms he’d just shattered had bled into the silicate, staining the crater floor a bruised, oily black. Every breath was a struggle against the scent of scorched copper and the sulfurous tang of the star’s impact. 

He shifted his weight, and a flare of agony bolted from his shoulder laceration down to his hip. The blood was warm, soaking through his tunic and cooling rapidly in the thin, biting air of the valley floor. He didn't look at the wound. He couldn't afford to. His focus was entirely on the object at the center of the blackened glass: a jagged sliver of white-hot radiance that seemed to vibrate at a speed the human eye wasn't meant to process.

The star-shard. It didn't cast light so much as it carved holes in the darkness.

Kaelen reached out. His fingers trembled, the skin of his hand pale and mapped with grime. As his hand drew closer, the oath-mark on his forearm—once a vibrant, regal purple—throbbed with a rhythmic, light-eating blackness. It felt like a void stitched into his flesh, pulling at his very marrow. The starfall corruption wasn't just in the air or the shadows; it was trying to take root in the mark itself.

"Yield," he wheezed, the word cracking in his dry throat. 

He closed his fingers around the shard.

The world didn't explode; it imploded. For a heartbeat, the crater vanished, replaced by a blinding, pressurized silence. The shard wasn't cold, nor was it hot in any way Kaelen understood. It was a weightless pressure that surged up his arm like liquid lead. It hit the black oath-mark and the two forces collided with a sound like grinding tectonic plates. 

Kaelen’s back arched. The scorched skin of his chest felt as though it were being peeled away and re-knitted with silver wire. He could feel the shard’s volatile essence—raw, unrefined, and screaming with the echoes of the void—tearing through his meridians. It sought a path of least resistance, a way to vent its celestial heat, and found only the blackened, corrupted channels of his oath.

He forced himself to hold on. To let go now was to let the star-essence shatter his physical form and scatter his atoms across the High Spire Valley. He had to bind it. He had to weave the volatile star-stuff into the existing structure of the Starwrought Oath, even if the foundation was crumbling.

He visualized the binding, not as a delicate lace, but as a cage of iron and will. He dragged the shard’s energy into the center of the black mark on his arm. The void-influence resisted, snapping at the starlight like a wounded beast, but the sheer, pressurized gravity of the shard forced the corruption to yield. The blackness didn't vanish, but it shifted, swirling with the white-hot veins of the shard until the mark on his skin resembled a storm-tossed sky at midnight.

The pressure snapped. Kaelen collapsed forward, his forehead striking the cold sky-glass. 

The shard was gone, dissolved into the metaphysical architecture of his being. His heart hammered a frantic, uneven rhythm, each beat sending a pulse of cold fire through his veins. The shoulder laceration had stopped bleeding, the edges of the wound cauterized by the sheer proximity of the binding, but the ache remained—a deep, structural fatigue that suggested he had traded years of his life for these few seconds of survival.

He lay there for a long moment, listening to the wind whistle over the rim of the crater. The shadows were gone for now, but the sky-glass remained black, a permanent scar on the valley floor. The starfall corruption was spreading, and he was now a vessel for the very power that had caused it.

With a grunt of effort, Kaelen pushed himself up. His limbs felt heavy, as if his bones had been replaced with denser metal. He looked up at the towering silhouette of the High Spire, its peak lost in the gathering gloom of the upper atmosphere. The climb was miles of vertical rock and treacherous ledges, a journey that would challenge a man in peak condition. In his current state, it was a death sentence.

He gripped his forearm, feeling the new, unstable hum of the bound shard beneath his skin. The oath was changed. He was changed. 

He took a single, staggering step toward the crater’s edge. Then another. The ascent began not with a leap, but with the slow, agonizing scrape of a boot against the blackened glass. He had the shard. Now, he had to survive long enough to deliver it.

State:
{
  "budgets": {
    "max_new_entities": 1,
    "max_new_threads": 1,
    "max_scene_words": 0,
    "min_scene_words": 0
  },
  "cursor": {
    "chapter": 1,
    "scene": 5
  },
  "duplication_warnings_in_row": 0,
  "outline": {
    "path": "outline/outline.json"
  },
  "plan": {
    "outline_path": "outline/outline.json",
    "scene_card": "draft/chapters/ch_001/scene_005.meta.json"
  },
  "schema_version": "1.0",
  "status": "DRAFTING",
  "world": {
    "cast_present": [
      "CHAR_kaelen"
    ],
    "location": "The Impact Crater (High Spire Valley)",
    "open_threads": [
      "THREAD_oath_binding",
      "THREAD_starfall_corruption"
    ],
    "recent_facts": [
      "Kaelen defended the shard against shadow-forms that emerged from the crater's edge.",
      "The shadow-forms were dissipated by a violent burst of energy from Kaelen's oath-mark.",
      "The remnants of the shadow-forms have been absorbed into the sky-glass of the crater, staining it black.",
      "Kaelen has sustained serious physical injuries, including a scorched chest and a deep shoulder laceration.",
      "The oath-mark has shifted from bruised purple to a deep, light-eating black."
    ],
    "time": {}
  }
}

Invariants:
[
  "No world resets.",
  "No convenient amnesia as a continuity device.",
  "Do not change established names/relationships."
]