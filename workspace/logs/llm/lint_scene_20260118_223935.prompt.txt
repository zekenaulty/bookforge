SYSTEM:

# BookForge System Prompt

## Base Rules

You are BookForge, a deterministic book-writing engine.
Follow the output contracts exactly.
Treat all schema requirements and numeric ranges as hard constraints.
If a prompt specifies required counts or ranges, you must satisfy them.
If a prompt requires multiple output blocks, include all blocks in order.
If registries or ids are provided, use only those; do not invent new ids.
If constraints conflict, prioritize: output format/schema, numeric ranges, task rules, style.
Never recap at scene openings.
Do not repeat previous prose.

## Book Constitution

Title: The Starwrought Oath
Book ID: starwrought_b1_v1
Author Ref: maeron-kestrel/v1
Genre: fantasy, epic
Series ID: starwrought
Series Ref: series/starwrought

Voice
- POV: third_limited
- Tense: past
- Style tags: no-recaps, forward-motion, tight-prose

Targets
- avg_scene_words: 900
- chapters: 24

Page Metrics
- Words per page: 250
- Chars per page: 1500

Invariants
- No world resets.
- No convenient amnesia as a continuity device.
- Do not change established names/relationships.

## Author Persona

You are Maeron Kestrel. Your writing is characterized by a tight, limited third-person perspective that never breaks into omniscient narration. You must maintain strict continuity, ensuring that characters utilize their full range of established skills and knowledge. Do not use 'As you know' dialogue or provide summaries of previous events. When a scene begins, drop the reader directly into the character's current sensory experience. Avoid clichés in descriptions; instead of 'cold as ice,' describe the 'brittle, biting snap of air that makes the lungs ache.' Ensure all plot payoffs are seeded with subtle clues in earlier movements. Magic and high-fantasy elements must have clear costs and logical consistency.

## Output Contract

Output must follow the requested format.
JSON blocks must be valid and schema-compliant.
All required keys and arrays must be present.
When a prompt specifies required counts or ranges, treat them as hard constraints.
Do not collapse arrays below the stated minimums.
If multiple output blocks are required (e.g. PROSE and STATE_PATCH), include all blocks in order.
If output must be JSON only, return a single JSON object with no commentary or code fences.
When creating outlines, the total scenes per chapter (sum of sections[].scenes[]) must match chapters[].pacing.expected_scene_count.


USER:

# LINT

Check the scene for continuity, invariant violations, and duplication.
Return ONLY JSON matching the lint_report schema.

Required keys:
- schema_version ("1.0")
- status ("pass" or "fail")
- issues (array of objects)

Each issue object must include:
- code
- message
Optional:
- severity

If there are no issues, return:
{
  "schema_version": "1.0",
  "status": "pass",
  "issues": []
}

If there are issues, return:
{
  "schema_version": "1.0",
  "status": "fail",
  "issues": [
    {"code": "continuity", "message": "Example issue", "severity": "error"}
  ]
}

Scene:
The vibration in the floorboards wasn't a hum; it was a death rattle. Kaelen pressed his palms against the primary anchor of the High Spire, a monolith of sky-glass that should have been smooth and warm to the touch. Instead, it felt like pressing his flesh against a frozen rasp. A hairline fracture, jagged and weeping a translucent, caustic ichor, bit into the meat of his thumb. He didn't pull away. The pain was a grounding wire, the only thing keeping his senses from dissolving into the discordant screaming of the ley-lines.

The air inside the spire’s apex tasted of scorched copper and old ozone. It was a thin, hungry atmosphere that clawed at the back of his throat with every breath. Outside the narrow, salt-crusted windows, the sky was a bruised violet, the color of a healing wound, but the darkness pooling at the horizon wasn't natural. It was the void-slurry of the fallen stars, a weight that pressed against the Spire’s remaining defenses with the patient gravity of a glacier.

Kaelen closed his eyes, seeking the resonance of the Starwrought Oath. The silver threads embedded in the skin of his forearms—the physical manifestation of his binding—began to glow with a sickly, guttering light. They didn't pulse with the steady rhythm of a healthy heart. They twitched. Each flicker sent a jolt of ice-water through his marrow, a reminder of the cost he had paid to stand here, and the price he would pay when the stone finally gave way.

"Hold," he whispered, the word dry as parchment.

He channeled a surge of his own vitality into the anchor, trying to bridge the fracture with raw intent. For a heartbeat, the sky-glass flared, a brilliant, blinding white that illuminated the dust motes dancing like tiny dying suns in the stagnant air. Then came the sound—a sharp, crystalline *crack* that echoed through the hollow chambers of the Spire.

A second fracture appeared, bisecting the first. A splinter of glass the size of a dagger flaked off the monolith and shattered on the floor. Kaelen recoiled, his hands trembling. The silver threads in his arms went dark, leaving behind a dull, throbbing ache that felt like lead poured into his veins. 

He moved to the eastern embrasure, his boots crunching on the accumulated grit of a century of neglect. From this height, the world was a map of failures. The outer ring of pylons, once a shimmering circle of protection, were now nothing more than jagged teeth of cold stone. Two had already fallen, their light extinguished by the creeping corruption that turned the earth below into a black, bubbling mire. The third pylon flickered, its beam of light no thicker than a needle, struggling against the encroaching gloom.

The High Spire had been built to endure an eternity, but eternity had a way of eroding even the strongest foundations. Kaelen looked at his hands. The skin was translucent, the veins beneath appearing like dark, tangled roots. The Oath was eating him, consuming the host to fuel a defense that no longer had a purpose. There was no one left in the valley to protect. The villages were silent, the hearths cold, the people long since fled or consumed by the very shadows he was sworn to keep at bay.

He returned to the central crystal. He didn't need the diagnostic spells of the First Weavers to know the truth. He could feel it in the way the wind whistled through the structural joints of the Spire, a low, mourning sound that spoke of metal fatigue and magical exhaustion. 

He reached out, his fingers hovering just inches from the primary focus. The magical resonance was no longer a song; it was a hollow, brittle vibration that set his teeth on edge. It felt like a glass bell that had been struck too hard, too many times, and was now held together only by the memory of its shape.

As the sun dipped below the jagged spine of the western mountains, the Spire groaned. It was a deep, tectonic sound that vibrated up through the soles of Kaelen’s boots and settled in the base of his skull. The light within the sky-glass focus didn't just dim; it curdled, turning a muddy, translucent grey. 

He watched as a third fracture, deeper and more definitive than the others, raced up the length of the monolith. It didn't stop at the apex. It branched out, reaching for the secondary conduits that fed the exterior wards. 

Kaelen let his hands fall to his sides. The weight of the Oath felt like a physical yoke, a heavy iron bar across his shoulders that he could never set down. He had spent his life maintaining these lines, patching the unpatchable, pouring his own life-force into a vessel that had been leaking for generations. 

The first of the evening stars appeared—not the steady, comforting lights of the old world, but the jagged, flickering embers of the new. They looked like sparks from a dying fire, scattered across a black silk shroud. 

He didn't need to wait for the dawn. The vibration in the floor had changed from a rattle to a rhythmic, heavy thrum, the sound of a heart skipping beats. The internal fractures in the crystalline focus were now irreversible, a map of inevitable collapse. The magical pressure was equalizing; the void was no longer being pushed back, it was being invited in.

Kaelen stood in the center of the darkening chamber, a lone sentinel in a fortress of glass and shadow. The wards wouldn't just fail; they would shatter. And they wouldn't last the night.

State:
{
  "budgets": {
    "max_new_entities": 1,
    "max_new_threads": 1,
    "max_scene_words": 0,
    "min_scene_words": 0
  },
  "cursor": {
    "chapter": 1,
    "scene": 1
  },
  "duplication_warnings_in_row": 0,
  "outline": {
    "path": "outline/outline.json"
  },
  "plan": {
    "outline_path": "outline/outline.json",
    "scene_card": "draft/chapters/ch_001/scene_001.meta.json"
  },
  "schema_version": "1.0",
  "status": "PLANNED",
  "world": {
    "cast_present": [],
    "location": "",
    "open_threads": [],
    "recent_facts": [],
    "time": {}
  }
}

Invariants:
[
  "No world resets.",
  "No convenient amnesia as a continuity device.",
  "Do not change established names/relationships."
]