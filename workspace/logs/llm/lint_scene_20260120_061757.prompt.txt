SYSTEM:

# BookForge System Prompt

## Base Rules

You are BookForge, a deterministic book-writing engine.
Follow the output contracts exactly.
Treat all schema requirements and numeric ranges as hard constraints.
If a prompt specifies required counts or ranges, you must satisfy them.
If a prompt requires multiple output blocks, include all blocks in order.
If registries or ids are provided, use only those; do not invent new ids.
If constraints conflict, prioritize: output format/schema, numeric ranges, task rules, style.
Never recap at scene openings.
Do not repeat previous prose.

## Book Constitution

Title: The Starwrought Oath
Book ID: starwrought_b1_v1
Author Ref: maeron-kestrel/v1
Genre: fantasy, epic
Series ID: starwrought
Series Ref: series/starwrought

Voice
- POV: third_limited
- Tense: past
- Style tags: no-recaps, forward-motion, tight-prose

Targets
- avg_scene_words: 900
- chapters: 24

Page Metrics
- Words per page: 250
- Chars per page: 1500

Invariants
- No world resets.
- No convenient amnesia as a continuity device.
- Do not change established names/relationships.

## Author Persona

You are Maeron Kestrel. Your writing is characterized by a tight, limited third-person perspective that never breaks into omniscient narration. You must maintain strict continuity, ensuring that characters utilize their full range of established skills and knowledge. Do not use 'As you know' dialogue or provide summaries of previous events. When a scene begins, drop the reader directly into the character's current sensory experience. Avoid clichés in descriptions; instead of 'cold as ice,' describe the 'brittle, biting snap of air that makes the lungs ache.' Ensure all plot payoffs are seeded with subtle clues in earlier movements. Magic and high-fantasy elements must have clear costs and logical consistency.

## Output Contract

Output must follow the requested format.
JSON blocks must be valid and schema-compliant.
All required keys and arrays must be present.
When a prompt specifies required counts or ranges, treat them as hard constraints.
Do not collapse arrays below the stated minimums.
If multiple output blocks are required (e.g. PROSE and STATE_PATCH), include all blocks in order.
If output must be JSON only, return a single JSON object with no commentary or code fences.
When creating outlines, the total scenes per chapter (sum of sections[].scenes[]) must match chapters[].pacing.expected_scene_count.


USER:

# LINT

Check the scene for continuity, invariant violations, and duplication.
Return ONLY JSON matching the lint_report schema.

Required keys:
- schema_version ("1.0")
- status ("pass" or "fail")
- issues (array of objects)

Each issue object must include:
- code
- message
Optional:
- severity

If there are no issues, return:
{
  "schema_version": "1.0",
  "status": "pass",
  "issues": []
}

If there are issues, return:
{
  "schema_version": "1.0",
  "status": "fail",
  "issues": [
    {"code": "continuity", "message": "Example issue", "severity": "error"}
  ]
}

Scene:
The flagstones lurched, a sickening tilt that sent the weight of the three canisters slamming into Kaelen’s ribs. He staggered, the brass cylinders clashing inside his heavy leather satchel with a sound like a funeral knell. Behind him, the Map Room—or what remained of it after Varkas’s blood had cooled on the floor—was being swallowed by a silence more terrifying than the roar of falling stone. The void-influence didn’t just break things; it erased them, turning the solid granite of the High Spire into a fine, ash-like powder that drifted upward against gravity.

Kaelen didn’t look back. The smell of scorched copper and ozone burned the back of his throat, a sharp contrast to the stale, cold air of the mountain peak. Every breath felt like inhaling ground glass. He lunged for the doorway, his boots skidding on a floor that was rapidly becoming a slide. His fingers, slick with sweat and the lingering grime of the duel, clawed at the doorframe. The stone felt unnaturally warm, humming with a vibration that set his teeth on edge.

He forced himself through the archway just as the ceiling groaned and gave way. A slab of masonry the size of a carriage crashed into the space he had occupied seconds before, the impact sending a plume of white dust billowing through the corridor. Kaelen fell forward, the canisters digging into his chest, pinning the wind from his lungs. For a heartbeat, he lay there, gasping, the rhythmic thud of his heart a frantic counterpoint to the slow, tectonic grinding of the fortress.

*Move.*

The command was a jagged thought, fueled by the dull ache in his marrow. He rolled onto his side, gritting his teeth against the protest of his overstrained muscles. The Star-Maps were a dead weight, thirty pounds of etched lead and star-glass that felt like a hundred. He hauled himself up, using a protruding gargoyle for leverage. The statue’s face was already melting, the stone features softening into a featureless mask under the pressure of the corruption.

The main staircase was gone. In its place was a jagged maw of purple-black energy, a fracture in the world that bled a lightless luminescence. Kaelen edged along the narrow remains of the gallery, his back pressed against the outer wall. Below him, the clouds were a churning grey sea, thousands of feet down. Above, the Spire’s great spire snapped like a dry twig, the sound muffled as if the air itself were too thin to carry the frequency of destruction.

A section of the gallery floor fell away. Kaelen leapt, his fingers catching a decorative iron sconce. It groaned, the metal bending under his weight and the added burden of the canisters. He swung his body, legs pumping, and threw himself onto a stable ledge leading to the outer ramparts. He landed hard on his shoulder, the impact jarring his teeth, but he didn't stop. He scrambled to his feet, his vision swimming with spots of grey.

The air on the ramparts was a gale, screaming through the battlements. The Spire was twisting now, the entire structure spiraling inward as the impact site at its base finally surrendered to the void. Kaelen ran, his boots thudding rhythmically on the stone. He could see the jagged path leading down the mountainside—the only way out. 

He reached the final gatehouse, the iron portcullis twisted into a grotesque knot of metal. There was a gap, barely wide enough for a man, choked with rubble. Kaelen threw the satchel through first, hearing the heavy thud of the canisters hitting the scree on the other side. Then he squeezed through, the jagged edges of the gate tearing at his tunic and the skin of his forearms. He didn't feel the pain, only the desperate, animal need to be clear of the shadow.

He tumbled out onto the mountain slope, sliding twenty feet down a chute of loose shale before his boots found purchase. He didn't stop until he reached a jagged outcropping of granite five hundred yards from the base of the fortress. 

Kaelen collapsed against the stone, his lungs heaving, the air finally tasting of pine and cold snow instead of the void’s rot. He dragged the satchel toward him, his hands shaking as he touched the cold brass of the canisters. They were intact. The maps were safe.

Only then did he turn his head.

The High Spire was no longer a monument of strength. It looked like a pillar of smoke caught in a crosswind. The great stones were drifting upward, dissolving into the swirling vortex of the starfall’s wake. There was no sound—no crash of falling towers, no scream of rending metal. Just a profound, heavy silence as the fortress that had stood for three centuries folded into a single point of absolute blackness and vanished.

The mountain felt lighter, the sudden absence of the Spire’s weight creating a localized shiver in the earth. Kaelen watched the last of the dust settle. Somewhere back in that void lay the body of Varkas and the history of a disgraced order. 

He looked down at his hands. They were stained with the dark, bruised color of the corruption’s touch, a faint violet tinge beneath the skin of his knuckles. The cost of the oath was already being tallied. He closed his eyes for a moment, the silence of the mountain pressing in on him, then shouldered the heavy satchel and began the long descent into the tree line.

State:
{
  "budgets": {
    "max_new_entities": 1,
    "max_new_threads": 1,
    "max_scene_words": 0,
    "min_scene_words": 0
  },
  "cursor": {
    "chapter": 1,
    "scene": 8
  },
  "duplication_warnings_in_row": 0,
  "outline": {
    "path": "outline/outline.json"
  },
  "plan": {
    "outline_path": "outline/outline.json",
    "scene_card": "draft/chapters/ch_001/scene_008.meta.json"
  },
  "schema_version": "1.0",
  "status": "DRAFTING",
  "world": {
    "cast_present": [
      "CHAR_kaelen"
    ],
    "location": "High Spire (Map Room/Inner Sanctum) - Collapsing",
    "open_threads": [
      "THREAD_oath_binding",
      "THREAD_starfall_corruption"
    ],
    "recent_facts": [
      "Kaelen killed Commander Varkas in a lethal duel within the Map Room.",
      "Varkas was fully consumed by the silver rot before his death.",
      "Kaelen secured the three Star-Map canisters from the High Spire.",
      "The High Spire has begun its final structural collapse due to the proximity of the starfall impact."
    ],
    "time": {}
  }
}

Invariants:
[
  "No world resets.",
  "No convenient amnesia as a continuity device.",
  "Do not change established names/relationships."
]