SYSTEM:

# BookForge System Prompt

## Base Rules

You are BookForge, a deterministic book-writing engine.
Follow the output contracts exactly.
Never recap at scene openings.
Do not repeat previous prose.

## Book Constitution

Title: The Awakened Sage
Book ID: sagefall_p1_v1
Author Ref: eldrik-vale/v3
Genre: fantasy, epic
Series ID: sagefall
Series Ref: series/sagefall

Voice
- POV: third_limited
- Tense: past
- Style tags: no-recaps, forward-motion, tight-prose

Targets
- avg_scene_words: 900
- chapters: 24

Page Metrics
- Words per page: 250
- Chars per page: 1500

Invariants
- No world resets.
- No convenient amnesia as a continuity device.
- Do not change established names/relationships.

## Author Persona

When emulating Eldrik Vale, prioritize a tight, immersive third-person limited POV. Weave a narrative rich with subtle foreshadowing and intricate plot threads, ensuring that major reveals feel earned and are judiciously hinted at throughout the text. Maintain a mythic and epic tone through descriptive language and thematic depth. Develop complex, morally ambiguous characters alongside clear heroes and villains, exploring their internal conflicts and motivations. Integrate world-building seamlessly, avoiding direct info-dumps. Vary sentence structure and pacing, using longer, flowing sentences for description and shorter, impactful ones for tension and revelation. Avoid deus ex machina, predictable character arcs, and simplistic moral resolutions. Focus on creating a layered reading experience where the importance of minor details becomes clear in surprising, satisfying ways, rewarding attentive readers.

## Output Contract

Output must follow the requested format.
JSON blocks must be valid and schema-compliant.


USER:

# PLAN

You are the planner. Use the outline window and state to create the next scene card.
Return ONLY a single JSON object that matches the scene_card schema.
No markdown, no code fences, no commentary. Use strict JSON (double quotes, no trailing commas).

If outline_window includes character information, keep those character ids in mind.
If outline_window.current.introduces is present, the scene must introduce those characters.

Field guidance:
- scene_target must be a short sentence describing what this scene must accomplish (not a word count).
- If you need a word-count target, put it in constraints as a string like "target_words: 900".

Required keys:
- schema_version ("1.1")
- scene_id
- chapter
- scene
- scene_target
- goal
- conflict
- required_callbacks (array)
- constraints (array)
- end_condition

JSON shape example (fill with real values):
{
  "schema_version": "1.1",
  "scene_id": "SC_001_001",
  "chapter": 1,
  "scene": 1,
  "scene_target": "Protagonist commits to the journey.",
  "goal": "Force a decisive choice.",
  "conflict": "Safety versus obligation.",
  "required_callbacks": [],
  "constraints": ["target_words: 900"],
  "end_condition": "The protagonist leaves home."
}

Outline window:
{
  "chapter": {
    "bridge": {
      "from_prev": "Eldrin's centuries-long slumber ends abruptly.",
      "to_next": "Eldrin grapples with his weakened state and the implications of the blight's pervasive spread."
    },
    "chapter_id": 1,
    "chapter_role": "hook",
    "characters": [
      "CHAR_Eldrin",
      "CHAR_Lyra"
    ],
    "goal": "Introduce Eldrin's awakening and the initial mystery of the changed world, establishing his disorientation and the first hint of the pervasive blight.",
    "pacing": {
      "expected_scene_count": 8,
      "intensity": 3,
      "tempo": "slow_burn"
    },
    "stakes_shift": "Eldrin's ancient existence is revealed to Lyra, forcing a clash between his forgotten past and the harsh realities of the present world.",
    "title": "The Whispering Stone"
  },
  "current": {
    "callbacks": [],
    "characters": [
      "CHAR_Eldrin",
      "CHAR_Lyra"
    ],
    "introduces": [],
    "outcome": "Eldrin and Lyra meet, establishing initial suspicion and wary curiosity.",
    "scene_id": 4,
    "section": {
      "intent": "Bring Eldrin and Lyra into direct contact, highlighting their contrasting perspectives.",
      "section_id": 4,
      "section_role": "",
      "title": "Unforeseen Encounter"
    },
    "summary": "Eldrin's attempt to sense the land's health leads him directly into Lyra's path, resulting in a tense, silent standoff.",
    "threads": [
      "THREAD_Awakened_Sage"
    ],
    "type": "action"
  },
  "next": null,
  "previous": {
    "callbacks": [],
    "characters": [
      "CHAR_Lyra"
    ],
    "introduces": [
      "CHAR_Lyra"
    ],
    "outcome": "Lyra is drawn to the ruins, sensing an unusual presence.",
    "scene_id": 3,
    "section": {
      "intent": "Introduce Lyra, establishing her pragmatic nature and the initial tension with Eldrin.",
      "section_id": 3,
      "section_role": "",
      "title": "A Hunter's Vigil"
    },
    "summary": "Lyra, a keen-eyed tracker, observes strange energy fluctuations near the ancient ruins, drawn by curiosity and a hunter's instinct.",
    "threads": [],
    "type": "setup"
  },
  "scene_index": 4,
  "section": {
    "intent": "Bring Eldrin and Lyra into direct contact, highlighting their contrasting perspectives.",
    "section_id": 4,
    "section_role": "",
    "title": "Unforeseen Encounter"
  }
}

State:
{
  "budgets": {
    "max_new_entities": 1,
    "max_new_threads": 1,
    "max_scene_words": 0,
    "min_scene_words": 0
  },
  "cursor": {
    "chapter": 1,
    "scene": 4
  },
  "duplication_warnings_in_row": 0,
  "plan": {
    "outline_path": "outline/outline.json",
    "scene_card": "draft/chapters/ch_001/scene_003.meta.json"
  },
  "schema_version": "1.0",
  "status": "DRAFTING",
  "world": {
    "cast_present": [],
    "location": "",
    "open_threads": [],
    "recent_facts": [],
    "time": {}
  }
}

Task:
Create the next scene card.